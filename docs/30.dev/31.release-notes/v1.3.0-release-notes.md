# D2S v1.3.0 Release Notes

**Release Date**: 2025-07-26  
**Type**: Minor Update - Layout System Integration

## Overview
D2S v1.3.0 introduces integration with the OnField Layout System v2, providing a unified approach to layout management across all D2S templates. This update eliminates duplicate layout code and ensures consistent responsive behavior.

## What's New

### Layout System Integration
D2S v1 templates now fully integrate with the OnField Layout System, adopting its standardized approach to content widths and responsive breakpoints.

### Key Changes

#### 1. Content Width Classes
- **Before**: Manual width calculations in CSS
- **After**: Use `content-default` or `content-narrow` classes
  
```html
<!-- Old approach -->
<div class="d2s-container">
    <!-- Container had custom width calculations -->
</div>

<!-- New approach -->
<div class="d2s-container content-default">
    <!-- Width handled by layout system -->
</div>
```

#### 2. Full-Width Sections
- **Before**: Manual CSS for full viewport width
- **After**: Use `onfield-full-width` class

```html
<!-- Old approach -->
<section class="d2s-section"> <!-- Manual CSS for full width -->

<!-- New approach -->
<section class="d2s-section onfield-full-width">
```

#### 3. Responsive Breakpoints
Now uses unified breakpoints:
- Mobile: ≤768px
- Tablet: 769px - 1024px
- Desktop: ≥1025px

## Updated Files

### Core CSS Files
1. **d2s-v1-common.css**
   - Removed width calculations from `.d2s-hero`
   - Removed full-width CSS from `.d2s-section`
   - Simplified `.d2s-container` and `.d2s-hero-content`

2. **d2s-onfield-overrides.css**
   - Complete refactor for layout system compatibility
   - Removed all responsive width calculations
   - Added integration notes and examples

### Benefits

1. **Consistency**: All D2S templates use the same layout rules
2. **Maintainability**: Single source of truth for layout widths
3. **Performance**: Reduced CSS file sizes
4. **Flexibility**: Easy to switch between content width types

## Migration Guide

### For Existing D2S Templates

1. **Add layout classes to sections**:
   ```html
   <!-- For full-width backgrounds -->
   <section class="d2s-section onfield-full-width bg-light-gray">
   
   <!-- For normal sections -->
   <section class="d2s-section">
   ```

2. **Add content width classes**:
   ```html
   <!-- Standard width -->
   <div class="d2s-container content-default">
   
   <!-- Narrow width (blog post style) -->
   <div class="d2s-container content-narrow">
   ```

3. **Remove custom width CSS**:
   - Delete any manual width calculations
   - Remove responsive media queries for container widths
   - Let the layout system handle all width logic

### Example Migration

#### Before:
```css
.d2s-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
}

@media (max-width: 768px) {
    .d2s-container {
        padding: 0 20px;
    }
}
```

#### After:
```html
<div class="d2s-container content-default">
    <!-- Layout system handles all widths and margins -->
</div>
```

## Testing Checklist

- [ ] Hero sections display correctly with full-width backgrounds
- [ ] Content sections have proper margins at all breakpoints
- [ ] D2S grids work within the layout constraints
- [ ] No visual regressions in existing templates
- [ ] Mobile responsiveness maintained

## Documentation

- **Integration Guide**: See `child-theme/docs/d2s-layout-integration.md`
- **Layout System Specs**: See `child-theme/docs/specs/layout-design.md`

## Compatibility

- **OnField Child Theme**: v2.4.0+
- **GeneratePress**: 3.x
- **WordPress**: 5.0+
- **PHP**: 7.2+

## Next Steps

1. Update all existing D2S page templates to use new layout classes
2. Update D2S template generator to include layout classes by default
3. Consider adding more layout variations if needed

## Support

For questions or issues related to this update, please refer to:
- D2S v1 Implementation Guide
- OnField Layout System documentation
- GeneratePress documentation for container system